<head>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'sudoku_solver/task_style.css' %}">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script>
    /*function calculateWinnings()
    {
        var selection = document.getElementsByName("switch").value;
        var dice1 =  Math.floor((Math.random() * 10) + 1); 
        var dice2 =  Math.floor((Math.random() * 10) + 1); 
        var optionA1 = 200;
        var optionA2 = 160;
        var optionB1 = 385;
        var optionB2 = 10;
        var number_of_tokens;
        if (dice1<selection)
        {
            if (dice2<=selection)
            {
                number_of_tokens = optionA1;
            }
            else
            {
                number_of_tokens = optionA2;
            }
        }
        else
        {
            if (dice2<=selection)
            {
                number_of_tokens = optionB1;
            }
            else
            {
                number_of_tokens = optionB2;
            }
        }
        return number_of_tokens;
    }*/
    function pushValues(){
        storeValues();
        var age = sessionStorage.getItem("Age");
        var hobb = sessionStorage.getItem("hobb");
        var hobb2 = sessionStorage.getItem("hobb2");
        var gender = sessionStorage.getItem("Gender");
        var lass = sessionStorage.getItem("Class");
        var task1_selection = sessionStorage.getItem("Task1");
        var task2_selection = sessionStorage.getItem("Task2");
        var task2_colour = sessionStorage.getItem("Task2Colour");
        var subjects = sessionStorage.getItem("subjects");
        var fav = sessionStorage.getItem("fav");
        var ID = sessionStorage.getItem("ID");
        var ID2 = sessionStorage.getItem("ID2");
        /*
        var age2 = sessionStorage.getItem("Age2");
        var gender2 = sessionStorage.getItem("Gender2");
        var lass2 = sessionStorage.getItem("Class2");
        var subjects2 = sessionStorage.getItem("subjects2");
        var fav2 = sessionStorage.getItem("fav2");*/

        document.getElementById('hid').value=ID;
        document.getElementById('hid2').value=ID2;
        document.getElementById('hage').value=age;
        document.getElementById('hhobb').value=hobb;
        document.getElementById('hgender').value=gender;
        document.getElementById('hlass').value=lass;
        document.getElementById('hsubjects').value=subjects;
        document.getElementById('hfav').value=fav;
        document.getElementById('htask1').value=task1_selection;
        document.getElementById('htask2').value=task2_selection;
        document.getElementById('hcolor').value=task2_colour;
        /*
        Not required now since separate systems

        document.getElementById('hhobb2').value=hobb2;
        document.getElementById('hage2').value=age2;
        document.getElementById('hgender2').value=gender2;
        document.getElementById('hlass2').value=lass2;
        document.getElementById('hsubjects2').value=subjects2;
        document.getElementById('hfav2').value=fav2;
        */
        //document.write("Submitted");
        $.post( "{% url 'end-game' %}",
        {
            csrfmiddlewaretoken: '{{ csrf_token}}' ,
            //solution : solution, //pass the score here
            age :age,
            hobb:hobb,
            gender:gender,
            lass:lass,
            task1_selection:task1_selection,
            task2_selection:task2_selection,
            task2_colour:task2_colour,
            fav:fav,
            subjects:subjects,
            ID:ID,
            ID2:ID2,
            task_selected:"App",
            /*
                    Not required now since separate systems
            age2 :age2,
            gender2:gender2,
            hobb2:hobb2,
            lass2:lass2,
            fav2:fav2,
            subjects2:subjects2
            */
             // pass the win value here
        },
        function(data) {
            if(data.status == 1){
                // success! Do something
            }
            else{
                // error! Do something
            }
        });
        //window.location.href="http://creator-innovation.appspot.com/login";
    }
    function storeValues()
    {
    var switches = document.getElementsByName("switch");
    for(var i=0; i<switches.length;i++)
    {
        if(switches[i].checked)
        {
            sessionStorage.setItem("Task2",switches[i].value);        
        }
    }

    var colors = document.getElementsByName("colour");
    for(var i=0; i<colors.length;i++)
    {
        if(colors[i].checked)
        {
            sessionStorage.setItem("Task2Colour",colors[i].value);        
        }
    }
    }
    
    </script>
    </head>
    <body bgcolor="#00a2e8">
        <div class="fixed">
            <img src="https://www.ppt-backgrounds.net/thumbs/blackboard-art-backgrounds.jpg" class="rotate90" alt="Blackboard" width="900" height="1400" ><div class="centered">
    <h1>Task 2</h1>    
    <p><b>Please read the instructions below before attempting the task.</b></p>
    <h3 >Instructions</h3>
    <p>The Decision Sheet contains 18 separate Decisions numbering 1 through 18.  Each of these Decisions is a choice between drawing a ball from “Urn A” or “Urn B”. One of these decisions will be randomly selected, depending on a roll of three dice, to determine your earnings. You will select a color, Red or Black, and this will be your Success Color.  Once a decision is selected, your earnings will be determined by whether the ball drawn from the Urn matches your Success Color.</p>
    <p> You will make one choice in the “Switch” column on the right.  This choice indicates that you would like to switch from drawing a ball out of Urn A to drawing out of Urn B. Making a choice to switch means that every decision before your choice, a ball will be drawn from Urn A.  For each decision after your choice, including the decision where the choice was made, a ball will be drawn from Urn B. </p>
    <p> For example, if the dice roll outcome is 9, Decision No. 9 will determine payment.<br>  3.If your “Switch” number is higher than 9, a ball will be drawn from Urn A, and if the color of the ball matches the chosen Success Color, then you will 200 tokens.  If it does not match, you will earn 0 tokens.<br> 4.If your “Switch” number is 9 or lower, a ball will be drawn from Urn B, and if the color of the ball matches the chosen Success Color, then you will 228 tokens.  If it does not match, you will earn 0 tokens.</p>
    <p> Namely, once we select a decision to determine your earnings, if that decision came before your choice to switch, a ball will be drawn from Urn A.  If that decision came after or at your choice, a ball will be drawn from Urn B.<br>In each of the 18 decisions, Urn A has 50 Red balls and 50 Black balls, and pays 200 tokens if the ball drawn from Urn A matches your Success Color, and 0 tokens if it does not match.  Since each color has a 1/2 chance of being drawn, this means that drawing from Urn A pays 200 tokens with a chance of 1/2, and pays 0 with a chance of 1/2.<br>  Urn B, on the other hand, has an unknown number of Red and Black balls (with a total of 100 balls).  It pays a positive amount if the ball drawn from Urn B matches your Success Color, and 0 tokens if it does not match. Since the chance of each color being drawn is unknown, the chance of Urn B paying a positive number of tokens is unknown as well.  The only difference between the 18 options is the amount paid when a ball matching your Success Color is drawn from Urn B.</p>
    <br><br><br><br><br> <p><b>Please read the instructions above attempting the task.</b></p></div></div>
<div class="tom" >
                <img src="{% static 'sudoku_solver/tom.PNG' %}" alt="tOM" width="500" height="770" >
        </div><br>
    <form>
    <div class="container">
    <p>My success colour is <input type="radio" name="colour" value="Red" required/>Red&nbsp;&nbsp;
        <input type="radio" name="colour" value="Black" required/>Black</p>
        
        <input type="hidden" id="hid" name="ID" required/>
        <input type="hidden" id="hid2" name="ID2" required/>
        <input type="hidden" id="hage" name="Age" required/>
        <!--input type="hidden" id="hage2" name="Age2" required/-->
        <input type="hidden" id="hlass" name="Class" required/>
        <!--input type="hidden" id="hlass2" name="Class2" required/-->
        <input type="hidden" id="hgender" name="Gender" required/>
        <!--input type="hidden" id="hgender2" name="Gender2" required/-->
        <input type="hidden" id="hsubjects" name="subjects" required/>
        <!--input type="hidden" id="hsubjects2" name="subjects2" required/-->
        <input type="hidden" id="hfav" name="fav" required/>
        <!--input type="hidden" id="hfav2" name="fav2" required/-->
        <input type="hidden" id="hhobb" name="hobby" required/>
        <!--input type="hidden" id="hhobb2" name="hobby2" required/-->
        <input type="hidden" id="htask1" name="task1_selection" required/>
        <input type="hidden" id="htask2" name="task2_selection" required/>
        <input type="hidden" id="hcolor" name="task2_colour" required/>
        
    <table id="task1">
    <tr>
        <th>No.</th>
        <th>Urn A <br> 50 Red balls, 50 Black balls</th>
        <th>Urn B <br> ? Red balls, ? Black balls</th>
        <th>Switch</th>
    </tr>
    <tr>
        <td>1</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>164 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="1" required/></td>
    </tr>
    <tr>
        <td>2</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>172 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="2"></td>
    </tr>
    <tr>
        <td>3</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>180 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="3"></td>
    </tr>
    <tr>
        <td>4</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>188 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="4"></td>
    </tr>
    <tr>
        <td>5</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>196 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="5"></td>
    </tr>
    <tr>
        <td>6</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>204 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="6"></td>
    </tr>
    <tr>
        <td>7</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>212 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="7"></td>
    </tr>
    <tr>
        <td>8</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>220 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="8"></td>
    </tr>
    <tr>
        <td>9</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>228 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="9"></td>
    </tr>
    <tr>
        <td>10</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>236 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="10"></td>
    </tr>
    <tr>
        <td>11</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>244 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="11"></td>
    </tr>
    <tr>
        <td>12</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>252 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="12"></td>
    </tr>
    <tr>
        <td>13</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>260 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="13"></td>
    </tr>
    <tr>
        <td>14</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>268 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="14"></td>
    </tr>
    <tr>
        <td>15</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>276 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="15"></td>
    </tr>
    <tr>
        <td>16</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>284 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="16"></td>
    </tr>
    <tr>
        <td>17</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>292 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="17"></td>
    </tr>
    <tr>
        <td>18</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>300 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="18"></td>
    </tr>
    <tr>
        <td>19</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>308 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="19"></td>
    </tr>
    <tr>
        <td>20</td>
        <td>200 tokens if chosen colour <br> 0 tokens if not</td>
        <td>316 tokens if chosen colour <br> 0 tokens if not</td>
        <td><input type="radio" name="switch" value="20N"></td>
    </tr>
    

    </table></div>
    


    <br>
    <h3><center>Select one option:</center></h3>
    
    <input type="submit" formaction="/sudoku_solver/" value="Sudoku"  id="but" onclick="storeValues();"  />
    <input type="submit" formaction="https://appcreator-dot-gender-innovation.appspot.com/login/" value="Create App" onclick="pushValues()"/>
    </form>

    </body>